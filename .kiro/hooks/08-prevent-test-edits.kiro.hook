{
  "description": "Block edits to tests except snapshot/fixture updates via approved scripts.",
  "enabled": true,
  "include": [
    "tests/**"
  ],
  "name": "Prevent Direct Test Edits",
  "runCommand": {
    "args": [
      "-NoProfile",
      "-Command",
      "$ErrorActionPreference='Stop'; $changed = git diff --name-only --cached | Where-Object { $_ -like 'tests/*' }; if ($changed.Count -eq 0) { exit 0 }; $allowed = $changed | Where-Object { $_ -like 'tests/fixtures/*' -or $_ -like 'tests/**/snapshots/*' }; if ($allowed.Count -ne $changed.Count) { Write-Error ('Direct test edits detected: ' + ($changed | Where-Object { $allowed -notcontains $_ } | Out-String)); exit 1 }"
    ],
    "shell": "pwsh"
  },
  "timeoutSeconds": 60,
  "triggers": [
    "preCommit"
  ]
}
